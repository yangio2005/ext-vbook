<head>
		<link rel="dns-prefetch" href="//static.sangtacvietcdn.xyz">
		<link rel="shortcut icon" type="image/png" href="/favicon.png"/>
		<meta http-equiv="Content-Language" content="vi-vn">
		<meta name="robots" content="noindex, nofollow">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, maximum-scale=1"><link rel="canonical" href="https://sangtacviet.vip/?find=&findinname=than+dao&minc=0&tag=&p=1">	    <meta charset="utf-8">
	    <title>Sáng Tác Việt - Nền tảng văn học mạng mở mới</title>
	    	<meta name="keywords" content="tấn giang,đọc truyện,faloo,ciweimao,truyện full,qidian,sfacg,khởi điểm">
					    <meta name="description" content="Nền tảng đọc truyện tự do, tự dịch truyện, đọc miễn phí một số nguồn vip.">
					    <meta property="og:description" content="Đọc truyện scan, truyện free, tự động dịch truyện...">
					    <meta property="og:title" content="Sáng Tác Việt">
					    <meta property="og:type" content="novel">
					    <meta property="og:image" property="https://sangtacviet.com/favicon.png">	    <script type="text/javascript">
	    	if(location.hash.indexOf("rtc")>=0){
	    		location.hash="";
	    	}
	    	if(location.hash.indexOf("showerror")>=0){
	    		window.onerror=function(msg, url, lineNo, columnNo, error){
	    			alert(msg+"\n"+url+"\n"+columnNo+"\n"+lineNo);
	    		}
	    	}
	    	//const isInStandaloneMode = () =>
			//    (window.matchMedia('(display-mode: standalone)').matches) || (window.navigator.standalone) || document.referrer.includes//('android-app://');
			// 	if (isInStandaloneMode()) {
			// 		ui.appmode();
			//}

	    </script>
	    <script src="/jqr.js"></script>
		<link rel="stylesheet" href="/bootstrap.min.css?origin=">
		<link rel="stylesheet" href="/font/font.css?v=4">
		<link rel="stylesheet" href="/asset/all.min.css">
		<link rel="stylesheet" type="text/css" href="/main.css?v=7">
		<link rel="stylesheet" type="text/css" href="/asset/theme.default.css?v=0">
				<style type="text/css">
			.fa-download{
				min-width: 30px;
				font-size: 30px;
			}
			.cgcolor{
				font-size: 15px;
			    line-height: 1.2;
			    width: 25px;
			    text-align: center;
			}
			.noti{
				padding: 0 6px;
				height: 60px;
				border: 1px solid #dddddd;
				margin-top: -1px;
			}
			.noti h6{
				margin: 6px 0 0 0;
				font-size: 14px;
			}
			#searchbox{
				line-height: 2;
			}
			#commentportion .sec-bot{
				border-bottom-left-radius: 4px;
    			border-bottom-right-radius: 4px;
			}
			.blk-item2{
				display: block;
				font-size: 12px;
				font-weight: 600;
				padding: 10px;
				text-align: center;
			}
			.blk-item2 i{
				font-size: 30px;
			}
			.col-3{
				padding: 0;
			}
			.blk-item2 i:after{
				content: "";
				display: block;
			}
			.nip{border:none;background-color:#eee;outline:none;padding: 4px;border-radius: 6px;}.nip{border: none;width: 100%;background: #eee;padding: 6px;border-radius: 6px;outline: none;}

		</style>
		<script type="text/javascript" src="/stv.ui.js?v=1.283"></script>
		<script type="text/javascript">
			window.onerror=function(msg, url, lineNo, columnNo, error){
				if(!(msg.contain("is not a")) && !(msg.contain("ghz is not defined")) && !(msg.contain("find variable: ghz"))){
					if(url.join){
						url=url.join(",");
					}
					if(error && error.stack){
						msg += "\n" + error.stack;
					}
					ajax("sajax=reportscripterror&data="+encodeURIComponent(msg)+"&file="+encodeURIComponent(url)+"&line="+lineNo+":"+columnNo,function() {});
				}
			}
		</script>
				<script src="/bootstrap.min.js"></script>
		<script src="/stv.host.js?v=035"></script>
        <script>
//perf fix
var oldReg = RegExp;
window.RegExp = function(a){
	if(a && a.indexOf){
		if(a.indexOf("cloudfront") < 0){
			return oldReg.apply(this,arguments);
		}
		return new oldReg();
	}
	return oldReg.apply(this,arguments);
}

        	var userperm=1;		var isMobile= false; 
// device detection
if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) 
    || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))) { 
    isMobile= true;
}
	var store = window.localStorage;
	function getCookie(cname) {
		var name = cname + "=";
		//var decodedCookie = decodeURIComponent(document.cookie);
		var ca = document.cookie.split(';');
		for (var i = 0; i < ca.length; i++) {
			try {
				var c = decodeURIComponent(ca[i]);
				while (c.charAt(0) == ' ') {
					c = c.substring(1);
				}
				if (c.indexOf(name) == 0) {
					return c.substring(name.length, c.length);
				}
			} catch(e) {
				console.log('Cookie error: '+ca[i]);
			}
		}
		return "";
	}
	function timeElapsed(time, suffix){
		if(!time){ return " ";}
		var btime = time;
		if(time.indexOf("GMT") <= 0){
			time = time + " GMT+0700";
		}
		var timedifsec=(new Date().getTime()-new Date(time).getTime())/1000;

		if(!timedifsec){
			return btime;
		}
		var timedif={
			second:Math.floor(timedifsec)
			,minute:Math.floor(timedifsec/60)
			,hour:Math.floor(timedifsec/3600)
			,day:Math.floor(timedifsec/86400)
			,week:Math.floor(timedifsec/604800)
		}
		if(!suffix){
			return timedif;
		}else{
			if(timedif.week>0){
				return timedif.week+" tuần trước";
			}else
			if(timedif.day>0){
				return timedif.day+" ngày trước";
			}else
			if(timedif.hour>0){
				return timedif.hour+" giờ trước";
			}else 
			if(timedif.minute>0){
				return timedif.minute+" phút trước";
			}else
			if(timedif.second < 1){
				return "vừa mới";
			} else return timedif.second+" giây trước";
		}
	}
	function jumpPage() {
		if (typeof(thispage) == "undefined") return;
		if (window.setting.nofastnav) return;
		var event = document.all ? window.event : arguments[0];
		try{
			if (event.keyCode == 37) document.getElementById("navprevtop").click();
			//if (event.keyCode== 82) gotox();
			if (event.keyCode == 39) document.getElementById("navnexttop").click();
		}catch(e){}
		
	}
	document.onkeydown = jumpPage;
	function enmobile() {
		if (isMobile) {
			g("namewdf").style.width = "100%";
		}
	}
	function parseid(){
		var sp=g("hiddenid").innerHTML.split(";");
		return {bookid:sp[0],host:sp[2],chapter:sp[1]}
	}
	var namew;
	document.addEventListener("DOMContentLoaded", function(event) {
		loadConfig();
		try{
			enmobile();
		}catch(c){}
		namew = document.getElementById("namewd");
		try {
			excute();
		} catch (c) {}
		if (window.applyNodeList) {
			defineSys();
		}
	});
	loadConfig();
        </script>
    </head>
    <body>
<div id="full">
	<div id="tm-top-nav">
	    <div class="container">
			<a id="tm-top-nav-home" style="color: grey" href="/">Trang chủ</a> | 
			<a id="tm-top-nav-fanpage" href="https://www.facebook.com/105795507712320/" style="color: grey">Fanpage</a> |
			<a id="tm-top-nav-forum" href="/forum/" style="color: grey">Diễn đàn</a>
		</div>
	</div>
    <nav class="navbar navbar-expand-lg bg-light" id="mainbar">
		<div id="tm-nav-search-top" class="container" style="display:block;line-height: 50px;">
			<a href="/"><img alt="Logo sangtacviet" id="tm-nav-search-logo" src="/favicon.png"></a>
			<div id="tm-nav-search-top-right" style="float: right;">
								</button>
				<a href='#' onclick='openloginmodal()'>Đăng nhập</a>			</div>
			<form class="" style="width:auto;margin: 0">
				<div class="input-group">
					<input id="id" autocomplete="off" class="form-control col-auto" onkeydown="if(event.keyCode==13){event.preventDefault();goto();}"
						type="text" name="id" placeholder="Link truyện/Tìm kiếm">
					<button id="tm-btn-goto" aria-label="Nút tìm kiếm" type="button" class="my-0 my-lg-0 fas fa-arrow-right" onclick="goto()"></button>
					<button id="tm-btn-rescan" aria-label="Nút tải lại" type="button" class="my-0 my-lg-0 fas fa-redo" onclick="gotox()"></button>
					<span id="tm-nav-search-popup" style="display: block;">
						<div id="searchbox">
						</div>
					</span>
					
				</div>
				<script type="text/javascript">
  					var _c="_gac",_d="_gid",c=getCookie,_h="charCodeAt";
				</script>
			</form>
		</div>
	</nav> 
	<div id="tm-bot-nav" class="bg-dark">
		<div id="naviga" class="container">
				<a onclick="ui.swiftload(this)" href="/"><i class="fas fa-home"></i> Trang chủ</a>
				<a onclick="ui.swiftload(this)" href="/truyen-ngon/"><i class="fas fa-comment"></i> Thế giới</a>
				<a onclick="ui.swiftload(this)" href="/search/">Tìm Truyện</a>
				<a href="/day-sach/">Đẩy Sách</a>
				<a href="/surf.php">Dịch trang web</a>
				<a onclick="ui.swiftload(this)" href="/trans/">Dịch</a>
				
		</div>	
	</div>
    <div id="shownbtnctn"></div>
    <div id="inner">

<div hidden data-nosnippet class="container bg-light" style="display: block;font-size: 14px;color: gray;padding: 6px 16px; border-left: 4px solid red">
	Truy cập <a style="-animation: color-change 1.5s linear infinite; /*Fix lỗi user bị mù*/" href="https://sangtacviet.app">sangtacviet.app</a> nếu bạn không thể truy cập trang web.
</div>
<div data-nosnippet class="container bg-light" style="display: block;font-size: 14px;color: gray;padding: 6px 16px; border-left: 4px solid red">
	Cáp biển APG đã bị hỏng, truy cập website có thể bị chậm. Giờ cao điểm buổi tối nhà mạng sẽ điều chỉnh băng thông khiến bạn có khả năng không truy cập được.
</div>
<div id="searchviewdiv">
	<style type="text/css">
		.selected{
			background: #3f57a9;
		}
		.select-title{
			padding: 6px 6px;
			display: inline-block;
			min-width: 102px;
			font-size: 16px;
		}
		#sort,#type,#minc,#category,#tag{
			display: block;
		}
		#sort button,#type button,#minc button,#category button,#tag button, #bookstatus button{
			margin-top: 4px;
		}
		.blk-arr{
			background: #d0d0d0;
		    border-radius: 10px;
		    padding: 6px;
		    margin-top: 6px;
		    position: relative;
		}
		.blk-arr::before{
			content: "";
		    position: absolute;
		    height: 0px;
		    width: 0px;
		    top: -29px;
		    left: 20px;
		    border-width: 15px;
		    border-color: transparent transparent #d0d0d0 transparent;
		    border-style: solid;
		}
		#tag{
			max-height: 160px;
			overflow: hidden;
		}
		.lhr.lhr{
			display: none;
		}
		#faceted button{
			margin-right: 4px;
		}
        .bookextag {
            display: none;
        }
        #search-containter {
            width: 100%;
        }
        #quickhostselector {
            background: inherit;
            border: 1px solid #ced4da;
            border-radius: 0;
            border-top-right-radius: 4px;
            border-bottom-right-radius: 4px;
        }
        #ignoresbtn[ignorednum]::after {
            content: attr(ignorednum);
            position: absolute;
            top: 17px;
            left: 18px;
            background: #ff000094;
            color: white;
            border-radius: 50%;
            font-size: 12px;
            font-weight: bold;
            display: block;
            width: 18px;
            height: 18px;
        }
        
	</style>
	<div id="tm-p-search-top" class="bg-light" style="width: 100%;padding: 12px;font-size: 14px">
		<div>
		    <form>
                <span hidden>
                    Tìm: <input id="findf" name="findf" class="form-control"  onkeydown="if(event.keyCode==13){doquery();event.preventDefault();}" >
                    <br>
                </span>
		        <div class="input-group mb-3 mt-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text select-title">Tìm từ khóa: </span>
                    </div>
		            <input tabindex="-1" name="findinname" id="findinname" placeholder=" Tìm trong tên, tên hán việt, tác giả" class="form-control" onkeydown="if(event.keyCode==13){doquery(true);event.preventDefault();}" >
		            <div style="width: 80px;" class="input-group-append">
                        <button id="ignoresbtn" type="button" style="min-width: 40px; position: relative" class="input-group-text select-title" onclick="setIgnores();event.preventDefault();"><i class="far fa-filter"></i></button>
		                <button type="button" style="min-width: 40px" class="input-group-text select-title" onclick="easeSearch();event.preventDefault();"><i class="far fa-wand-magic"></i></button>
		            </div>
		        </div>
		        <div class="input-group mb-3 mt-3">
                    <div class="input-group-prepend">
                        <span class="input-group-text select-title">Tìm tóm tắt: </span>
                    </div>
		            <input tabindex="-1" name="find" id="find" placeholder=" Tìm trong phần tóm tắt của truyện" class="form-control" onkeydown="if(event.keyCode==13){doquery(true);event.preventDefault();}" >
		        </div>
                <div class="input-group">
                    <input tabindex="-1" name="findinhost" id="findinhost" placeholder="Chỉ tìm nguồn: " onkeyup="buildFaceted(this.value)" class="form-control" onkeydown="if(event.keyCode==13){doquery(true);event.preventDefault();}" >
                    <div class="input-group-append">
                        <select id="quickhostselector" tabindex="-1" onchange="g('findinhost').value=this.value;buildFaceted(this.value);">
                            <option value="">[Chọn nguồn nhanh]</option>
                            
                            <option value="69shu">[Free] 69shu</option>
                            <option value="faloo">[Vip] faloo (Phi Lư): Sảng văn</option>
                            <option value="qidian">[Vip] qidian (Khởi Điểm): Tổng hợp</option>
                            <option value="fanqie">[Vip] fanqie (Cà Chua): Sảng văn, Tổng hợp</option>
                            <option value="ciweimao">[Vip] ciweimao: Đồng nhân, Tổng hợp</option>
                            <option value="jjwxc">[Vip] jjwxc (Tấn Giang): Ngôn đam</option>
                            <option value="sfacg">[Vip] sfacg: Biến thân</option>
                            <option value="tadu">[Free] tadu: Ngôn sảng</option>
                            <option value="qimao">[Free] qimao (7 Mèo): Ngôn sảng</option>
                            <option value="idejian">[Free] idejian (Chưởng Duyệt)</option>
                            <option value="zongheng">[Vip] zongheng (Tung Hoành)</option>
                            <option value="linovel">[LN] linovel</option>
                            <option value="wenku8">[LN] wenku8</option>
                            
                            <option value="69shuorg">[Free] 69shuorg</option>
                            <option value="ddxs">[Free] ddxs</option>
                            <option value="ptwxz">[Free] ptwxz</option>
                            <option value="shu05">[Free] shu05</option>
                            <option value="qinqinxsw">[Free] qinqinxsw</option>
                            <option value="wanbentxt">[Free] wanbentxt</option>
                            <option value="8zwdu">[Free] 8zwdu</option>
                            <option value="duanqingsi">[Free] duanqingsi</option>
                            <option value="qiuxiaoshuo">[Free] qiuxiaoshuo</option>
                            <option hidden value="xiaoqiangwx">[18+] xiaoqiangwx</option>
                            <option value="xinyushuwu">[18+] xinyushuwu</option>
                            <option value="trxs">[Free] trxs</option>
                            <option value="paoshu8">[Free] paoshu8</option>
                            <option value="shumilou">[Free] shumilou</option>
                            <option value="hetushu">[Free] hetushu</option>
                            <option value="nofff">[Free] nofff</option>
                            <option value="uuxs">[Free] uuxs</option>
                            <option value="ranwenla">[Free] ranwenla</option>
                            <option value="shumiloutw">[Free] shumiloutw</option>
                            <option value="66wx">[Free] 66wx</option>
                            <option value="biqugexs">[Free] biqugexs</option>
                            <option value="521danmei">[18+] 521danmei</option>
                            <option value="zwdu">[Free] zwdu</option>
                            <option value="xingeweb">[Free] xingeweb</option>
                            <option value="qiushubang">[Free] qiushubang</option>
                            <option value="xinshuhaige">[Free] xinshuhaige</option>
                            <option value="oldtimescc">[Free] oldtimescc</option>
                            
                            <option value="wuwuxs">[Free] wuwuxs</option>
                            <option value="hs313">[Free] hs313</option>
                            
                            <option value="shubao45">[Free] shubao45</option>
                            <option value="biquge">[Free] biquge</option>
                            <option value="uukanshu">[Free] uukanshu (UU)</option>
                            
                            <option value="biqubao">[Dead] biqubao</option>
                            <option value="biqugele">[Dead] biqugele</option>
                            <option value="biqugebz">[Dead] biqugebz</option>
                            <option value="biquge5200">[Dead] biquge5200</option>
                            <option value="sinodan">[Dead] sinodan</option>
                            <option value="biqugese">[Dead] biqugese</option>
                            <option value="bxwxorg">[Dead] bxwxorg</option>
                            <option value="biqubu">[Dead] biqubu</option>
                            <option value="xbiquge">[Dead] xbiquge</option>
                            <option value="shubaow">[Dead] shubaow</option>
                            <option value="biqugecom">[Dead] biqugecom</option>
                            <option value="biqugeinfo">[Dead] biqugeinfo</option>
                            <option value="jiacuan">[Dead] jiacuan</option>
                            <option value="dibaqu123">[Dead] dibaqu123</option>
                            <option value="kanmaoxian">[Dead] kanmaoxian</option>
                            <option value="230book">[Dead] 230book</option>
                        </select>
                    </div>
                </div>
                <span class="select-title">Số chương: </span>
                <span id="minc" class="blk-arr">
                    <button type="button" class="btn btn-light" data-t="50" onclick="changeQuery(this)">> 50</button>
                    <button data-t="100" onclick="changeQuery(this)" type="button" class="btn btn-light">> 100</button> 
                    <button data-t="200" onclick="changeQuery(this)" type="button" class="btn btn-light">> 200</button> 
                    <button data-t="500" onclick="changeQuery(this)" type="button" class="btn btn-light">> 500</button>
                    <button data-t="1000" onclick="changeQuery(this)" type="button" class="btn btn-light">> 1000</button>
                    <button data-t="1500" onclick="changeQuery(this)" type="button" class="btn btn-light">> 1500</button>
                    <button data-t="2000" onclick="changeQuery(this)" type="button" class="btn btn-light">> 2000</button>
                    <button data-t="0" onclick="changeQuery(this)" type="button" class="btn btn-light">Tất cả</button>
                </span>
		
                <span class="select-title">Sắp xếp</span>
                <span id="sort" class="blk-arr">
                    <button data-t="" onclick="changeQuery(this)" type="button" class="btn btn-light">Không sắp xếp</button>
                    <button data-t="new" onclick="changeQuery(this)" type="button" class="btn btn-light">Mới nhập kho</button>
                    <button data-t="update" onclick="changeQuery(this)" type="button" class="btn btn-light">Mới cập nhật</button>
                    <button data-t="view" onclick="changeQuery(this)" type="button" class="btn btn-light">Lượt đọc tổng</button>
                    <button data-t="viewweek" onclick="changeQuery(this)" type="button" class="btn btn-light">Lượt đọc tuần</button>  
                    <button data-t="viewday" onclick="changeQuery(this)" type="button" class="btn btn-light">Lượt đọc ngày</button> 
                    <button data-t="like" onclick="changeQuery(this)" type="button" class="btn btn-light">Lượt thích</button>
                    <button data-t="following" onclick="changeQuery(this)" type="button" class="btn btn-light">Lượt theo dõi</button>
                    <button data-t="bookmarked" onclick="changeQuery(this)" type="button" class="btn btn-light">Lượt đánh dấu</button>
                    <button hidden data-t="auto" onclick="changeQuery(this)" type="button" class="btn btn-light">Đề cử</button>
                </span>
                <span class="select-title">Loại truyện</span>
                <span id="type" class="blk-arr">
                    <button type="button" onclick="changeQuery(this)" data-t="" class="btn btn-light">Tất cả</button> 
                    <button type="button" data-t="sangtac" onclick="changeQuery(this)" class="btn btn-light">Truyện sáng tác</button> 
                    <button type="button" data-t="dich" onclick="changeQuery(this)" class="btn btn-light">Truyện dịch</button> 
                    <button hidden onclick="changeQuery(this)" type="button" data-t="comic" class="btn btn-light">Truyện tranh</button>
                    <button type="button" data-t="txt" onclick="changeQuery(this)" class="btn btn-light">Txt dịch tự động</button> 
                    <button onclick="changeQuery(this)" type="button" data-t="scan" class="btn btn-light">Truyện scan ảnh</button>
                </span>
		
                <span class="select-title">Thể loại</span>
                <span id="category" class="blk-arr">
                    <button data-t="" onclick="changeQuery(this)" type="button" class="btn btn-light">Tất cả</button>
                    <button data-t="hh" onclick="changeQuery(this)" type="button" class="btn btn-light">Huyền huyễn</button>
                    <button data-t="dt" onclick="changeQuery(this)" type="button" class="btn btn-light">Đô thị</button> 
                    <button data-t="nt" onclick="changeQuery(this)" type="button" class="btn btn-light">Ngôn tình</button> 
                    <button data-t="vd" onclick="changeQuery(this)" type="button" class="btn btn-light">Võng du</button> 
                    <button data-t="kh" onclick="changeQuery(this)" type="button" class="btn btn-light">Khoa học viễn tưởng</button>
                    <button data-t="ls" onclick="changeQuery(this)" type="button" class="btn btn-light">Lịch sử</button>
                    <button data-t="dn" onclick="changeQuery(this)" type="button" class="btn btn-light">Đồng nhân</button>
                    <button data-t="dna" onclick="changeQuery(this)" type="button" class="btn btn-light">Dị năng</button>
                    <button data-t="ld" onclick="changeQuery(this)" type="button" class="btn btn-light">Linh dị</button>
                    <button data-t="ln" onclick="changeQuery(this)" type="button" class="btn btn-light">Light Novel</button>
                </span>
                <span class="select-title">Trạng thái</span>
                <span id="bookstatus" class="blk-arr" style="display: block">
                    <button data-t="" onclick="changeQuery(this)" type="button" class="btn btn-light">Tất cả</button>
                    <button data-t="3" onclick="changeQuery(this)" type="button" class="btn btn-light">Hoàn thành</button>
                    <button data-t="1" onclick="changeQuery(this)" type="button" class="btn btn-light">Còn tiếp</button> 
                    <button data-t="2" onclick="changeQuery(this)" type="button" class="btn btn-light">Tạm ngưng</button> 
                    <button data-t="5" onclick="changeQuery(this)" type="button" class="btn btn-light">Không tạm ngưng</button>
                </span>
                <div class="flex">
                    <span class="select-title" style="flex:1">Nhãn dán</span>
                    <div class="flex">
                        <button type="button" style="height:35px; margin-top: 5px;" class="btn" onclick="clearSelectedTags()"><i class="fas fa-times"></i></button>
                        <input placeholder="Lọc nhãn" tabindex="-1" class="form-control" style="width:90px;height:35px;margin-top:5px" onkeyup="ui.filterSel(this, g('tag'), 'button')">
                    </div>
                </div>
                <div class="blk-arr">
                    <span id="tag">
                        <button data-t="an-faloo" onclick="changeQuery(this)" type="button" class="btn btn-light">Ẩn Nguồn Faloo</button>
                        <button data-t="an-ciweimao" onclick="changeQuery(this)" type="button" class="btn btn-light">Ẩn Nguồn Ciweimao</button>
                        <button data-t="an-fanqie" onclick="changeQuery(this)" type="button" class="btn btn-light">Ẩn Nguồn Fanqie</button>
                        <button data-t="an-sfacg" onclick="changeQuery(this)" type="button" class="btn btn-light">Ẩn Nguồn Sfacg</button>
                        <button data-t="an-jjwxc" onclick="changeQuery(this)" type="button" class="btn btn-light">Ẩn Nguồn Jjwxc</button>
                        <button data-t="an-qimao" onclick="changeQuery(this)" type="button" class="btn btn-light">Ẩn Nguồn Qimao</button>
                        <button data-t="hen" onclick="changeQuery(this)" type="button" class="btn btn-light">Từ Nguồn 18+</button>
                        <button data-t="hidehen" onclick="changeQuery(this)" type="button" class="btn btn-light">Ẩn 18+</button>
                        <span id="faceted"></span>
                    </span>
                </div>
		    </form>
		</div>
		<hr>
		<button class="btn btn-outline-info" onclick="lineview()"><i class="fas fa-list"></i>/<i class="fas fa-th"></i></button>
		<button onclick="doquery(true)" id="searchbutton" type="button" class="btn btn-info" style="float:right;"><i class="fas fa-search"></i> Tìm</button>
		<span class="d-inline d-sm-none" style="float: right;padding: 8px">Cuộn <i class="fas fa-infinity"></i>&nbsp;&nbsp;</span>
		<span class="d-none d-sm-inline" style="float: right;padding: 8px">Cuộn vô cực &nbsp;&nbsp;&nbsp;</span>
        <input type="checkbox" style="-webkit-appearance: checkbox;float: right;margin: 14px;transform: scale(2.5)" id="allowinfinite"> 
		<div class="clear"></div>
		<script type="text/javascript">
			ui.expand(g("tag"));
		</script>
	</div>
	
	<div class="row" style="min-height:360px;margin: 0;font-size: 12px;">
		<div id="search-containter">
            <div id="endless" class="row" style="margin: 0">
                <div class="text-center" style="width: 100%; padding: 12px;">
                    <i class="fas fa-spinner fa-spin"></i>
                    Đang tải                </div>
            </div>
        </div>
		<div style="text-align: center;width: 100%" id="searchpagi"><br>
			<nav aria-label="..." style="display: inline-block; user-select: none;">
			  <ul class="pagination">
				
			  </ul>
			</nav>
		</div>
	</div>
</div>
<div>
    <span id="spag" hidden>1</span>
    <script>
        var searchquery = location.search.slice(1).split("&");
        var minc="0";
        var sort="";
        var category="";
        var find="";
        var findinname="";
        var findinhost="";
        var type="";
        var tag=[];
        var query="";
        var loading=false;
        var currpage=0;
        var bstep="";
        var facetRequested = false;
        function loadSearchResult(qr, isNew, isInf){
            if(!qr)
                createquery(isNew);
            var ignores = localStorage.getItem("ignores");
            if(ignores){
                ignores = ignores.split(",");
            } else {
                ignores = [];
            }
            setIgnoredNum();
            ajaxUrl("/io/searchtp/searchBooks"+ (qr || query), "ignores=" + encodeURIComponent(ignores.join(","))
                , function(data){
                g("searchbutton").disabled=false;
                var preHtml = g("inner").innerHTML;
                if(isNew){
                    g("search-containter").innerHTML=`<div id="endless" class="row" style="margin: 0"></div>`;
                }
                var wd=g("endless");
                wd.style.width="100%";
                wd.setAttribute("id", "");
                wd.innerHTML=data;
                var wd2=document.createElement("div");
                wd2.setAttribute("id", "endless");
                wd2.className="row";
                wd2.style.margin = '0';
                wd2.style.width="100%";
                //wd.appendChild(wd2);
                g("search-containter").appendChild(wd2);
                loading=false;
                currpage++;
                if(isInf){
                    window.history.pushState({
                        html: preHtml,
                        pageTitle: document.title
                    },null,query);
                }
                var count = wd.querySelectorAll(".booksearch").length;
                if(count < 48){
                    generatePagination(parseInt(g("spag").innerHTML));
                } else {
                    generatePagination(208);
                }
            });
        }
        document.onscroll=function(){
            if(g("allowinfinite")==null){
                document.onscroll=null;
            }
            if(g("allowinfinite").checked)
            if(document.body.scrollTop>document.body.offsetHeight - 600 - document.body.clientHeight && !loading){
                loading=true;
                if(currpage==0){
                    currpage=parseInt(g("spag").innerHTML);
                }
                pag = "&p="+(currpage+1);
                loadSearchResult(null, false, true);
            }
        }
        function lineview(set){
            if(g("perlinestyle")==null){
                g("searchviewdiv").className="container col-md-8 col-sm-12 col-12 p-0";
                g("searchviewdiv").style.maxWidth = '800px';
                var stl = document.createElement("style");
                stl.innerHTML=".nb{min-width:100%;display:flex} .nb img{width:130px !important;min-width:130px;} .nb > div{padding:0px 6px 6px 10px;max-height:180px;overflow:hidden;} #tm-p-search-top + div{background: #f7f7f7;padding:0} .nb .info{padding:0;position:static;margin-bottom:4px;}.searchbooktitle{font-size:16px;margin:0} .searchtag{background:white;padding:4px;border-radius:6px;border:none;margin-right:4px;} .lhr.lhr.lhr{display:inline-block;}.searchbookauthor{margin:0 0 4px 0}.bookextag{display:inline !important}";
                stl.setAttribute("id", "perlinestyle");
                document.head.appendChild(stl);
                if(!set)localStorage.setItem("searchviewmode", "list");
            }else if(!set){
                g("searchviewdiv").className="";
                g("searchviewdiv").style.maxWidth = 'inherit';
                g("perlinestyle").remove();
                if(!set)localStorage.setItem("searchviewmode", "grid");
            }
        }
        if(localStorage.getItem("searchviewmode")=="list"){
            g("searchviewdiv").className="container col-md-8 col-sm-12 col-12 p-0";
            g("searchviewdiv").style.maxWidth = '800px';
            lineview(true);
        }

    
        function changeQuery(e){
            var m = e.parentElement.id;
            switch(m){
                case "minc":{
                    e.parentElement.childNodes.forEach(function(x){x.className='btn btn-light';});
                    e.className="btn btn-info selected";
                    minc=e.getAttribute("data-t");
                }break;
                case "category":{
                    e.parentElement.childNodes.forEach(function(x){x.className='btn btn-light';});
                    e.className="btn btn-info selected";
                    category=e.getAttribute("data-t");
                }break;
                case "sort":{
                    e.parentElement.childNodes.forEach(function(x){x.className='btn btn-light';});
                    e.className="btn btn-info selected";
                    sort=e.getAttribute("data-t");
                }break;
                case "tag":{
                    if(e.className=="btn btn-info selected"){
                        e.className="btn btn-light";
                    }else {
                        e.className="btn btn-info selected";
                    }
                }break;
                case "faceted":{
                    if(e.className=="btn btn-info selected"){
                        e.className="btn btn-light";
                    }else {
                        e.className="btn btn-info selected";
                    }
                }break;
                case "type":{
                    e.parentElement.childNodes.forEach(function(x){x.className='btn btn-light';});
                    e.className="btn btn-info selected";
                    type=e.getAttribute("data-t");
                }break;
                case "bookstatus":{
                    e.parentElement.childNodes.forEach(function(x){x.className='btn btn-light';});
                    e.className="btn btn-info selected";
                    bstep=e.getAttribute("data-t");
                }break;
            }
        }
        function gopage(e){
            pag = "&p="+parseInt(e.innerHTML);
            doquery();
        }
        function gopageb(){
            pag = "&p="+(parseInt(g("spag").innerHTML)-1);
            doquery();
        }
        function gopagen(){
            pag = "&p="+(parseInt(g("spag").innerHTML)+1);
            doquery();
        }
        function gopagef(){
            pag="&p=1";
            doquery();
        }
        var pag = "";
        function g(i){
            return document.getElementById(i);
        }
        function gv(i){

            return encodeURIComponent(g(i).value);
        }
        function gk(k,v){
            return "&"+k+"="+gv(v);
        }
        function createquery(isnew){
            var qr = "?find="+encodeURI(g("find").value.normalize("NFC").replace(/undefined/, ""));
            if(g("findinname").value!="")qr+="&findinname="+encodeURI(g("findinname").value.normalize("NFC").replace(/undefined/, ""));
            if(g("findinhost").value!="")qr+="&host="+encodeURI(g("findinhost").value.replace(/undefined/, ""));
            if(minc!="")qr+="&minc="+minc;
            if(category!="")qr+="&category="+category;
            if(sort!="")qr+="&sort="+sort;
            if(type!="")qr+="&type="+type;
            if(bstep!="")qr+="&step="+bstep;
            qr+="&tag=";
            var tags=q("#tag .btn-info");
            tags.forEach(function(e){
                qr+=e.getAttribute("data-t")+",";
            });
            query=qr+((!isnew)?pag:"");
            if(!isnew){
                if(g("server-skip")){
                    var sk = g("server-skip");
                    var skip = sk.innerHTML;
                    if(skip != "0"){
                        query += "&skip=" + skip;
                    }
                    sk.remove();
                }
            }
        }
        function doquery(isnew){
            createquery(isnew);
            g("searchbutton").disabled=true;
            //location="/"+query;
            //ui.swiftload("/"+query,"searchbutton");
            // setTimeout(function(){
            //     g("searchbutton").disabled=false;
            //     ui.scrollto("searchbutton",50);
            // }, 100);
            //
            if(isnew){
                currpage=0;
                g("spag").innerHTML="1";
            } else{
                g("spag").innerHTML = parseInt(pag.substring(3));
            }
            loadSearchResult(query, true, true);
            ui.scrollto("searchbutton",50);
        }
        if (document.documentElement.clientWidth < 480) { 
            document.querySelector("meta[name=viewport]").setAttribute(
                'content', 
                'width=device-width, initial-scale=0.7, maximum-scale=0.7, user-scalable=no');
        }else{
            function iOS() {
                return [
                'iPad Simulator',
                'iPhone Simulator',
                'iPod Simulator',
                'iPad',
                'iPhone',
                'iPod'
                ].includes(navigator.platform)
                // iPad on iOS 13 detection
                || (navigator.userAgent.includes("Mac") && "ontouchend" in document)
            }
            if(iOS())
                document.querySelector("meta[name=viewport]").setAttribute(
                    'content', 
                    'width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no');
        }
        function easeSearch(){
            var op = ui.select();
            op.option("/?find=&findinname=trên%2015%20chương&host=faloo&minc=0&sort=update&step=5&tag=","Truyện faloo mới");
            op.option("/?find=&minc=1500&category=hh&sort=update&tag=an-faloo,","Truyện huyền huyễn");
           // op.option("/?find=&minc=100&sort=auto&step=5&tag=","Tự động đề cử");
            op.option("/?find=&minc=50&category=dn&sort=viewweek&step=5&tag=","Truyện đồng nhân hot");
            op.option("/?find=&minc=2000&sort=update&step=5&tag=","Truyện dài");
            //op.option("/?find=&minc=0&sort=new&type=comic&tag=","Truyện tranh mới");
            op.option("/?find=&minc=0&sort=new&type=sangtac&step=5&tag=","Truyện sáng tác mới");
            op.option("/?find=&minc=0&sort=viewweek&type=sangtac&tag=","Truyện sáng tác hot");

            op.option("/?find=&findinname=lấp%20hố&minc=0&sort=update&type=dich&tag=","Truyện lấp hố");
            op.proc = function(v){
                location = v;
            }
            op.show();
        }
        function clearSelectedTags(){
            q("#tag button.selected").forEach(function(e){e.className = "btn btn-light"})
            }
        function aggregateFaceted(){
            var nohost = {};
            for(var host in window.faceteddata){
                var face = window.faceteddata[host];
                for(var cat in face.category){
                    if(cat.indexOf(" ")>0){
                        if(nohost[cat]){
                            nohost[cat] += face.category[cat];
                        }else{
                            nohost[cat] = face.category[cat];
                        }
                    }
                }
            }
            for(var cat in nohost){
                if(nohost[cat] < 100){
                    delete nohost[cat];
                }
            }
            window.faceteddata['all'] = {category: nohost};
            }
        function buildFaceted(host){
            if(!window.faceteddata){
                if(facetRequested){
                    return;
                }
                facetRequested = true;
                var http = new XMLHttpRequest();
                http.onreadystatechange = function(){
                    if(http.readyState == 4 && http.status == 200){
                        window.faceteddata = JSON.parse(http.responseText);
                        aggregateFaceted();
                        buildFaceted(host);
                    }
                }
                http.open('GET', "/searchfaceted.json");
                http.send();
                return false;
            }
            if(!host || host == "") { host = 'all'; }
            var face = window.faceteddata[host];
            if(face){
                var span = g("faceted");
                span.innerHTML = "";
                var arr = [];
                for(var cat in face.category){
                    if(cat.indexOf(" ")>0)
                    arr.push({
                        name: cat,
                        value: face.category[cat]
                    });
                }
                arr.sort(function(a,b){return b.value - a.value});
                for(var i=0;i<arr.length;i++){
                    var cat = arr[i].name;
                    var btn = document.createElement("button");
                    btn.setAttribute("data-t",slugVietnamese(cat));
                    btn.setAttribute("type","button");
                    btn.setAttribute("onclick","changeQuery(this)");
                    btn.setAttribute("class","btn btn-light");
                    btn.textContent = titleCase(cat)+"("+arr[i].value+")";
                    span.appendChild(btn);
                }
                searchquery.forEach(function(x){
                    var f = x.split("=");
                    var flag={};
                    if(!f[1]){
                        return;
                    }
                    switch(f[0]){
                        case "tag":{
                            var taglist=f[1].split(",");
                            taglist.forEach(function(ite){
                                if(ite!=""){
                                    try{
                                        q('#tag [data-t="'+ite+'"]')[0].className="btn btn-info selected";
                                    }catch(e){}
                                }
                            });
                            break;
                        }
                    }
                });
            }
        }
        function slugVietnamese(string){
                string = string.toLowerCase();
                string = string.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a");
                string = string.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e");
                string = string.replace(/ì|í|ị|ỉ|ĩ/g,"i");
                string = string.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o");
                string = string.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u");
                string = string.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y");
                string = string.replace(/đ/g,"d");
                string = string.replace(/\W+/g,"");
                string = string.trim();
            return string;
        }
        function parseSearchQuery(qr){
            (qr || searchquery).forEach(function(x){
                var f = x.split("=");
                var flag={};
                if(!f[1]){
                    return;
                }
                switch(f[0]){
                    case "find":g("find").value=decodeURI(f[1]);find=decodeURI(f[1]);break;
                    case "minc":switch(f[1]){
                            case "0":g("minc").children[7].className="btn btn-info selected";minc="0";break;
                            case "50":g("minc").children[0].className="btn btn-info selected";minc="50";break;
                            case "100":g("minc").children[1].className="btn btn-info selected";minc="100";break;
                            case "200":g("minc").children[2].className="btn btn-info selected";minc="200";break;
                            case "500":g("minc").children[3].className="btn btn-info selected";minc="500";break;
                            case "1000":g("minc").children[4].className="btn btn-info selected";minc="1000";break;
                            case "1500":g("minc").children[5].className="btn btn-info selected";minc="1500";break;
                            case "2000":g("minc").children[6].className="btn btn-info selected";minc="2000";break;
                        }break;
                    case "sort":{
                        var ct=g("sort").querySelector('[data-t="'+f[1]+'"]');
                        if(ct){
                            ct.className="btn btn-info selected";
                            sort=f[1];
                        }
                        break;
                    }
                    case "category":{
                        var ct=g("category").querySelector('[data-t="'+f[1]+'"]');
                        if(ct){
                            ct.className="btn btn-info selected";
                            category=f[1];
                        }
                        break;
                    }
                    case "type":{
                        var ct=g("type").querySelector('[data-t="'+f[1]+'"]');
                        if(ct){
                            ct.className="btn btn-info selected";
                            type=f[1];
                        }
                        break;
                    }
                    case "host":g("findinhost").value=decodeURI(f[1]);findinhost=decodeURI(f[1]);break;
                    case "findinname":g("findinname").value=decodeURI(f[1]);findinname=decodeURI(f[1]);break;
                    case "tag":{
                            if(!f[1]){
                                break;
                            }
                            var taglist=f[1].split(",");
                            taglist.forEach(function(ite){
                                if(ite!=""){
                                    try{
                                        q('#tag [data-t="'+ite+'"]')[0].className="btn btn-info selected";
                                    }catch(e){}
                                    
                                }
                            });
                            }break;
                    case "p":{
                        pag="&p="+f[1];
                        g("spag").innerHTML=f[1];
                        currpage=parseInt(f[1]) - 1;
                        ;break;
                    }
                    case "hidehen":{
                        flag.hidehen=true;
                    }break;
                    case "inf":{
                        g("allowinfinite").checked=true;
                    }break;
                    case "step":{
                        var ct=g("bookstatus").querySelector('[data-t="'+f[1]+'"]');
                        if(ct){
                            ct.className="btn btn-info selected";
                            bstep=f[1];
                        }
                        break;
                    }
                }
                //if(g("findinhost").value.length>0){
                
                //}
            });
            buildFaceted(g("findinhost").value);
        }
        parseSearchQuery();
        g("tag").onclick = function(e){
            var t = e.target;
            if(t && t.tagName != "BUTTON"){
                var eOffset = this.getBoundingClientRect().top;
                var eTop = eOffset + window.scrollY;
                console.log(eOffset, eTop, window.scrollY);
                this.nextElementSibling.click();
                if(eOffset < 0){
                    $([document.documentElement, document.body]).animate({scrollTop: eTop - 53}, 100);
                }
            }
        }
        loadSearchResult(location.search, true, false);
        function generatePagination(max){
            var pagi = g("searchpagi").querySelector("ul");
            pagi.innerHTML="";
            var sp = parseInt(g("spag").innerHTML);
            var createButton = function(text,onclick){
                var li = document.createElement("li");
                li.className="page-item";
                var a = document.createElement("a");
                a.className="page-link";
                a.textContent=text;
                a.setAttribute("onclick",onclick);
                li.appendChild(a);
                pagi.appendChild(li);
                return li;
            }
            if(sp>1){
                createButton("<<","gopagef()");
                createButton("<","gopageb()");
            }
            for(var i=sp-3;i<sp+4;i++){
                if(i>0 && i<=max){
                    if(i==sp){
                        var li = createButton(i,"");
                        li.className="page-item active";
                    }else{
                        createButton(i,"gopage(this)");
                    }
                }
            }
            if(sp<max){
                createButton(">","gopagen()");
            }
        }
        function setIgnores(){
            var ignores = localStorage.getItem("ignores");
            if(!ignores){
                ignores = [];
            } else {
                ignores = ignores.split(",");
            }
            var win = ui.win.create("Bỏ qua truyện");
            win.id = "ignorewin";
            var body = win.body();
            body.innerHTML = `
                <p class="p-2">Nhập từ khóa để bỏ qua, mỗi từ khóa cách nhau bằng dấu phẩy. Ví dụ: <code>giáo hoa, nữ đế</code></p>
                <textarea id="ignore-text" class="form-control" style="height: 200px; width: 100%;">${ignores.join(", ")}</textarea>
                `;
            var r = win.body.row();
            r.addPadder();
            r.addButton("Bỏ chặn tất cả", "clearIgnores()", "primary").style.marginRight = "10px";
            r.addButton("Lưu", "saveIgnores()", "primary");
            win.show();
        }
        function saveIgnores(){
            var ignores = g("ignore-text").value.split(",");
            ignores = ignores.map(function(x){return x.trim();}).filter(function(x){return x.length>0;});
            localStorage.setItem("ignores", ignores.join(","));
            ui.win.close(g("ignorewin"));
            setIgnoredNum();
        }
        function clearIgnores(){
            localStorage.removeItem("ignores");
            g("ignore-text").value = "";
            setIgnoredNum();
        }
        function setIgnoredNum(){
            var ignores = localStorage.getItem("ignores");
            if(!ignores){
                ignores = [];
            } else {
                ignores = ignores.split(",").filter(function(x){return x.length>0;});
            }
            var num = ignores.length;
            if(num>0){
                g("ignoresbtn").setAttribute("ignorednum", num);
            }else{
                g("ignoresbtn").removeAttribute("ignorednum");
            }
        }
    </script>
</div>
</div>
</div>    </div>
    </div>
<div id="tm-credit-section" class="container-fluid bg-dark">
<div class="container">
    <div id="credit" class="row" style="font-size:12px;">
		<center id="tm-credit-text" style="clear:both;width: 100%;color: white;padding: 24px;">
			<a href="/">
			<div style="display: inline-block;margin-right: -165px;width: 158px;border-radius: 6px;color: white;height: 56px;background: whitesmoke"></div>
			<img alt="Logo sangtacviet" loading=lazy src="/favicon.png" style="width: 160px;margin-top: -48px"></a><br>
			sangtacviet.com là trang web cung cấp dịch vụ dịch tự động dịch truyện chữ trung. <br>
			<div style="margin-bottom: 6px;">
				<a href="/manhtan.pdf">Hướng dẫn tân thủ</a> 
				<a href="/@0">Bài viết</a> 
				<a href="/~app-doc-truyen-phien-ban-thu-nghiem-101">App</a> 
				<a href="/~extension-dich-thuat-tu-dong-tieng-trung-v150">Extension</a>
				<a href="javascript:showLangSelect()">Chọn ngôn ngữ</a>
			</div>
			
			<span style="border-radius: 6px;background: #eee;display: inline-block;padding: 6px;">
			<!-- BEGIN: Powered by Supercounters.com -->
				<script async onload="sc_online_t(1546820, ' Online', '170ddb');" defer type="text/javascript" src="/supercounters.php?v4" ssrc="//widget.supercounters.com/ssl/online_t.js"></script>
				<script type="text/javascript"></script>
				<br>
				<noscript><a href="https://my.ipaddress.is/">What is my ip address</a></noscript>
			<!-- END: Powered by Supercounters.com -->

			</span><br>
			<a hidden="" href="//www.dmca.com/Protection/Status.aspx?ID=86c08fad-8058-44e7-a411-4e384995c6d5" title="DMCA.com Protection Status" class="dmca-badge"> <img src ="https://images.dmca.com/Badges/dmca_protected_sml_120n.png?ID=86c08fad-8058-44e7-a411-4e384995c6d5"  alt="DMCA.com Protection Status" /></a>  <scripts src="https://images.dmca.com/Badges/DMCABadgeHelper.min.js"> </scripts>
		</center>
		<br>
		
    </div>
    </div>
 </div>
    <div id="namewdf" style="visibility:hidden;height:auto;" onkeydown="event.stopPropagation();" class='namewd'>
		<div id="toolbar">
			
			<button type="button" class='toolbar' onclick="saveNS()">Lưu lại</button>
			<button type="button" class='toolbar' onclick="saveNS();excute();">Chạy</button>
			<button type="button" class='toolbar' onclick="clearNS()">Xóa hết</button>
			<button type="button" class='toolbar' onclick="getNSOnline()">Tải name</button>
			<button type="button" class='toolbar' onclick="uploadNS()">Upload</button>
			<button type="button" class='toolbar' style="float:right" onclick="hideNS()">Ẩn</button>
			
		</div>
		<div id="toolbar2" style="display:none;">
			<button type="button" class='toolbar' onclick="this.parentElement.style.display='none';g('toolbar').style.display='block';g('dlnametb').style.zIndex='-1';"><span class='glyphicon glyphicon-chevron-left'></span>Quay lại</button>
			<button type="button" class='toolbar' style="float:right" onclick="hideNS()">Ẩn</button>
		</div>
		<hr style="margin:0;clear:both">
		<div id="namewdc" style="position:relative">
			<textarea id="namewd"  ></textarea>
			<div id="dlnametb" style="z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%;background-color:white;max-height:269px;overflow-y:auto;">
				<table id="dlnametbcontent"></table>
			</div>

			<div id="upnamewd" style="z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%;background-color:white;">
				<br>
				<center><input class="nip" id="uploaduser" placeholder="Nhập tên của bạn"><br>
				<br>
				<button class="btn btn-primary" type="button" id="sendnsbt" onclick="this.disabled=true;sendNS()">Gửi</button>&nbsp;<button class="btn btn-secondary" type="button" onclick="this.parentElement.parentElement.style.zIndex='-1'">Hủy</button><br></center>
			</div>
		</div>
		
		<div hidden style="width:100%;border-top:1px solid black">
			<input id="fastseltext" onpaste="fastCreateN(this)" onkeyup="fastCreateN(this)" style="float:left;width:40%;height:24px;font-size:16px;" type="text"><span style="float:left;">&nbsp;=&nbsp;</span><input style="float:left;width:40%;height:24px;font-size:16px;" id="fastgentext" >
			<button type="button" class="toolbar" style="float:right;margin: 0;padding: 0;" onclick="fastAddNS()">Thêm </button>
			<div class='clear'></div>
		</div>
			<div style="border-top:1px solid gray;" class="row justify-content-md-left m-0">
				<div class="col-3"><span onclick="excute()" class="blk-item2"><i class="fas fa-play" style="color:green;"></i><br>Chạy</span></div>
				<div class="col-3"><span onclick="getNSOnline()" class="blk-item2"><i class="fas fa-cloud-download" style="color:green;"></i><br>Tải name được chia sẻ</span></div>
				<div class="col-3"><span onclick="importName()" class="blk-item2"><i class="fas fa-file-import"></i><br>Nhập dữ liệu name</span></div>
				<div class="col-3"><span onclick="openinsertvpmodal()" class="blk-item2"><i class="fas fa-file-alt"></i><br>Sử dụng file vp riêng</span></div>
				<div class="col-3"><span onclick="exportName()" class="blk-item2"><i class="fas fa-file-export"></i><br>Xuất dữ liệu</span></div>
				<div class="col-3"><span onclick="uploadNS()" class="blk-item2"><i class="fas fa-upload"></i><br>Chia sẻ gói name</span></div>
				<div class="col-3"><span onclick="var wd=ui.win.createBox('Gói Name Đặc Biệt','namepack').show();" onclicks="$('#customnamebox').modal('toggle')" class="blk-item2"><i class="fas fa-download" style="color:green;"></i><br>Tải name đặc biệt</span></div>
				<div class="col-3"><span onclick="analyzer.reset();" class="blk-item2"><i class="fas fa-trash-alt" style="color:red;"></i><br>Xóa bộ nhớ Analyzer</span></div>
				<div class="col-3"><span onclick="ui.win.createBox('Công cụ','tool').show()" class="blk-item2"><i class="fas fa-wrench"></i><br>Công cụ</span></div>
				<div class="col-3" hidden><span onclick="TFCoreTranslatePage()" class="blk-item2"><i class="fas fa-magic"></i><br>Transform</span></div>
			</div>
		</div>
	
    </div>
    <div id="configBox" class="bg-light" style="position: fixed;bottom: 75px;right: 65px;border: 1px solid #cccbcb;display: none;">
    	<div>
    		<div id="stylediv" style="line-height:1.5;user-select: none;padding: 5px" onclick="event.stopPropagation();">
			Màu nền: <input type="color" style="float: right;height: 20px;width:50px;" oninput="this.style.backgroundColor=this.value;changebg(this)">
			<br>
				<span class="cgcolor" style="background-color:#eae4d3" onclick="changebg(this)">A</span>
				<span class="cgcolor" style="background-color:#ffffff" onclick="changebg(this)">A</span>
				<span class="cgcolor" style="background-color:#000000" onclick="changebg(this)">A</span>
				<span class="cgcolor" style="background-color:#d0d0d0" onclick="changebg(this)">A</span>
				<span class="cgcolor" style="background-color:#a3e6a2" onclick="changebg(this)">A</span>
				<span class="cgcolor" style="background-color:#a7d4e8" onclick="changebg(this)">A</span>
				<span class="cgcolor" style="background-color:#d7ffff" onclick="changebg(this)">A</span><br>
				<span class="cgcolor" style="background-color:#8a8a88" onclick="changebg(this)">A</span>
				<span class="cgcolor" style="background-color:#fbdada" onclick="changebg(this)">A</span>
				<span class="cgcolor" style="background-color:#6f3333" onclick="changebg(this)">A</span>
				<span class="cgcolor" style="background-color:#5cbd94" onclick="changebg(this)">A</span>
				<span class="cgcolor" style="background-color:#c492de" onclick="changebg(this)">A</span>
				<span class="cgcolor" style="background-color:#127743" onclick="changebg(this)">A</span>
				<span class="cgcolor" style="background-color:#ececec" onclick="changebg(this)">A</span><br>
				Màu chữ: <span style="float:right;padding-right:55px;height:20px;">
					<span>Bóng:</span>
					<input id="none-1e129e" type="checkbox" style="height: 20px;-webkit-appearance: checkbox;" onchange="changetextshadow(this.checked,1)">
					<input id="none-35a49y" type="color" style="height: 20px;position:absolute;right:5px;width:50px;" oninput="changetextshadow(this.value,2)">
					
				</span><br>
				<span class="cgcolor" style="color:#eae4d3" onclick="changebgx(this)">A</span>
				<span class="cgcolor" style="color:#ffffff" onclick="changebgx(this)">A</span>
				<span class="cgcolor" style="color:#000000" onclick="changebgx(this)">A</span>
				<span class="cgcolor" style="color:#d0d0d0" onclick="changebgx(this)">A</span>
				<span class="cgcolor" style="color:#a3e6a2" onclick="changebgx(this)">A</span>
				<span class="cgcolor" style="color:#a7d4e8" onclick="changebgx(this)">A</span>
				<span class="cgcolor" style="color:#d7ffff" onclick="changebgx(this)">A</span><br>
				<span class="cgcolor" style="color:#8a8a88" onclick="changebgx(this)">A</span>
				<span class="cgcolor" style="color:#fbdada" onclick="changebgx(this)">A</span>
				<span class="cgcolor" style="color:#6f3333" onclick="changebgx(this)">A</span>
				<span class="cgcolor" style="color:#5cbd94" onclick="changebgx(this)">A</span>
				<span class="cgcolor" style="color:#c492de" onclick="changebgx(this)">A</span>
				<span class="cgcolor" style="color:#127743" onclick="changebgx(this)">A</span>
				<span class="cgcolor" style="color:#ececec" onclick="changebgx(this)">A</span><br>
			<center>
				<span style="padding:6px;border-radius:6px;" onclick="decreaseFontsize()"><i class="fas fa-minus"></i> </span><span style="margin-right: -20px;position: relative;"><img loading=lazy src="/asset/Aa.png" style="width: 18px;
    height: 20px;"></span><input id="changefs" style="max-width:45px;padding: 3px;padding-left:20px;" onchange="changefontsize(this);" value="24"><span style="padding:6px;border-radius:6px;" onclick="increaseFontsize()"><i class="fas fa-plus"></i></span>
				<span style="padding:6px;border-radius:6px;" onclick="decreaseLineheight()"><i class="fas fa-minus"></i> </span><span style="margin-right: -15px;position: relative"><img loading=lazy src="/asset/lh.png" style="    width: 12px;
    height: 28px;"></span><input id="changefs2" style="max-width:45px;padding: 3px;padding-left: 15px;" onchange="changelineheight(this);" value="1.2"><span style="padding:6px;border-radius:6px;" onclick="increaseLineheight()"><i class="fas fa-plus"></i></span></center>
				<select id="selfont" value="arial" style="border-radius: 0;background: white;width: 100%;">
					<option value='helvetica'>Helvetica</option>
					<option value='opensans'>Open Sans</option>
					<option value='stvverdana'>Verdana</option>
					<option value='roboto'>Roboto</option>
					<option value='stvarial'>Arial</option>
					<option value='stvtahoma'>Tahoma</option>
					<option value='palatinolinotype'>Palatino linotype</option>
					<option value='nunito'>Nunito</option>
					<option value='sourceserifpro'>Source Serif Pro</option>
					<option value='robotoslab'>Roboto Slab</option>

				</select>
				<center style="font-size: 22px">
					<span  style="display: inline-block;border:1px solid gray;padding: 4px" onclick="decreasepadding()"><i class="fas fa-outdent"></i></span>
					<span val="left" style="display: inline-block;border:1px solid gray;padding: 4px" onclick="changealign(this)"><i class="fas fa-align-left"></i></span>
					<span val="center" style="display: inline-block;border:1px solid gray;padding: 4px" onclick="changealign(this)"><i class="fas fa-align-center"></i></span>
					<span val="justify" style="display: inline-block;border:1px solid gray;padding: 4px" onclick="changealign(this)"><i class="fas fa-align-justify"></i></span>
					<span val="right" style="display: inline-block;border:1px solid gray;padding: 4px" onclick="changealign(this)"><i class="fas fa-align-right"></i></span>
					<span style="display: inline-block;border:1px solid gray;padding: 4px" onclick="increasepadding()"><i class="fas fa-indent"></i></span>
				</center>
				<script>
				g("selfont").onchange=function(){
					try{
						g(contentcontainer).style.fontFamily = this.value;
						localStorage.setItem("fontfamily", this.value);
					}catch(e){}
				}
				function changetextshadow(v,i){
					if(i==1){
						try{
							if(v){
								var c = event.target.nextElementSibling.value;
								if(c=="#000000"){
									c="0 0 1px white";
								}
								else { c = "0 0 1px "+c; }
								g(contentcontainer).style.textShadow = c;
								localStorage.setItem("textlshadow", c);
							}else{
								g(contentcontainer).style.textShadow = "none";
								localStorage.setItem("textlshadow", "none");
							}
						}catch(e){}
					}else{
						try{
							var c  = "0 0 1px "+v;
							g(contentcontainer).style.textShadow = c;
							localStorage.setItem("textlshadow", c);
							event.target.previousElementSibling.checked=true;
						}catch(e){}
					}
				}
				</script>
				</center>
			</div>
    	</div>
    	<div class="bg-dark" style="display: flex;">
    		<button type="button" onclick="speaker.readBook()" style="background: none;border:none;color: white;font-size: 16px;padding: 6px;"><i class="fas fa-play"></i> Nghe sách</button>
    		<button type="button" onclick="showNS()" style="background: none;border:none;color: white;font-size: 16px;padding: 6px;"><i class="fas fa-edit"></i> Name</button>
    	</div>
    </div>
    <button type="button" id="btnshowns" aria-label="Nút mở cài đặt" class='toolbar showname' style="border-radius: 50%;height: 50px; width: 50px;background: #eaeaea80;bottom:20px;border:none;box-shadow: 0 0 3px gray;padding: 0" onclick="showConfigBox()"><i class="fa-cogs fas" style="font-size: 26px;color: #6564638a;"></i></button>
    <div id="float-btn" style="width: 50px;position: fixed;right: 14px;bottom: 85px;">
    	<button type="button" id="btnunitymode" style="border-radius: 50%;height: 50px; width: 50px;background: #eaeaea80;border:none;box-shadow: 0 0 3px gray;padding: 0;opacity: 1;display: none;" onclick="ui.unity()"><i class="fas fa-eye" style="font-size: 26px;color: #6564638a;"></i></button>
    </div>
     
    <button type="button" id="btnnextchapter" class='toolbar showname' style="border-radius: 50%;height: 50px; width: 50px;opacity: 0;bottom:20px;border:none;box-shadow: 0 0 3px gray;padding: 0;right: 75px;display: none" onclick="g('navnexttop').click()"><i class="fas fa-chevron-right" style="font-size: 26px;color: #6564638a;"></i></button>
    <button type="button" id="btnprevchapter" class='toolbar showname' style="border-radius: 50%;height: 50px; width: 50px;opacity: 0;bottom:20px;border:none;box-shadow: 0 0 3px gray;padding: 0;right: 140px;display: none" onclick="g('navprevtop').click()"><i class="fas fa-chevron-left" style="font-size: 26px;color: #6564638a;"></i></button>

	<div >
		<div >
			
			<div id="loginformdiv" style="display: none;">
			</form>
			<form id="loginform" name="login">
				<p>Tài khoản (Chú ý phân biệt hoa thường):</p>
				<p><input class="form-control" name="user" style="width:100%" value placeholder="Nhập tài khoản"></p>
				<p>Mật khẩu:</p>
				<p><input class="form-control" onkeyup="if(event.keyCode==13){loginstv()}" name="psw" type="password" style="width:100%" value placeholder="Nhập mật khẩu"></p>
				<hr>
				<p>Chưa có tài khoản? Nhập lại mật khẩu để đăng ký:</p>
				<input class="form-control" name="repsw" type="password" style="width:100%" value placeholder="Nhập lại mật khẩu">
				<p style="margin-top: 8px;">
					Chú ý: Đặt mật khẩu đơn giản có thể bị kẻ xấu lấy mất tài khoản.					<a href="https://m.me/sangtacviet?text=Tôi%20quên%20mật%20khẩu" target="_blank">Quên mật khẩu?</a>
				</p>
			</form>
			<script>
			
				if(isMobile){ 
					if(g("logindlgx"))
					g("logindlgx").style.width=document.body.clientWidth + "px";
				}
				function openloginmodal(){
					var md=createModal("Đăng nhập");
					md.size("sm");
					md.body().appendChild(g("loginform"));
					md.button("Đăng ký","register()","btn-secondary");
					md.button("Đăng nhập","loginstv()","btn-primary");
					md.onhide=function(){
						g("loginformdiv").appendChild(g("loginform"));
					}
					md.show();
				}
				function loginstv(u, p){
					var username = u || document.forms["login"].user.value;
					var psw = p || document.forms["login"].psw.value;
					if(username.length<3){
						if(window.TextEncoder){
							var te = new TextEncoder();
							var u8 = te.encode(username);
							if(u8.length<3){
								// real length
								alert("Độ dài tài khoản tối thiểu 3 kí tự");
								return;
							}
						}else{
							return;
						}
					}
					if(username.indexOf("'")>=0){alert("Không thể sử dụng kí tự \"'\"");
											return;
					}
					if(psw.length<3){alert("Độ dài mật khẩu tối thiểu 3 kí tự");
											return;
					}
					if(psw.indexOf("'")>=0){alert("Không thể sử dụng kí tự \"'\"");
											return;
					}
					var params = "ajax=login&ngmar=lgin&username="+encodeURIComponent(username)+"&psw="+encodeURIComponent(psw);
					var http = new XMLHttpRequest();
					var url = '/index.php';
					http.open('POST', url, true);
					http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
					http.onreadystatechange = function() {
					    if(http.readyState == 4 && http.status == 200) {
						    if(http.responseText=="success"){
								location.reload();
						    }else if(http.responseText == "captcha"){
								ui.captcha.open("login", "google", function(){
									loginstv(username, psw);
								});
							}else alert(http.responseText);
					    }
					}
					http.send(params);
				}

				function register(u, p, rp){
					var username = u || document.forms["login"].user.value;
					var psw = p || document.forms["login"].psw.value;
					var repsw = rp || document.forms["login"].repsw.value;
					if(username.length<3){alert("Độ dài tài khoản tối thiểu 3 kí tự");
											return;
					}
					if(username.indexOf("'")>=0){alert("Không thể sử dụng kí tự \"'\"");
											return;
					}
					if(psw.length<3){alert("Độ dài mật khẩu tối thiểu 3 kí tự");
											return;
					}
					if(psw.indexOf("'")>=0){alert("Không thể sử dụng kí tự \"'\"");
											return;
					}
					if(psw!=repsw){alert("Nhập lại mật khẩu không đúng");
											return;
					}
					var params = "ajax=register&ngmar=regnick&username="+encodeURIComponent(username)+"&psw="+encodeURIComponent(psw)+"&repsw="+encodeURIComponent(repsw);
					var http = new XMLHttpRequest();
					var url = '/index.php';
					http.open('POST', url, true);
					http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
					http.onreadystatechange = function() {
					    if(http.readyState == 4 && http.status == 200) {
						    if(http.responseText == "success"){
							   location.reload();
							}else if(http.responseText == "captcha"){
								ui.captcha.open("register", "sangtacviet", function(){
									register(username, psw, repsw);
								});
							}
						    else alert(http.responseText);
					    }
					}
					http.send(params);
				}
			</script>
			</div>
		</div>
	</div>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-145395004-1" onerror="this.src='/gtag.php'"></script>
<scripts async defer src="/gtag.php?123" onerror="this.src='/gtag.php?456'"></scripts>
<script>
  	window.dataLayer = window.dataLayer || [];
  	function gtag(){dataLayer.push(arguments);}
  	gtag('js', new Date());
  	gtag('config', 'UA-145395004-1');
  
  	q("span[tag]").forEach(function(e){
	  	e.title=e.textContent;
  	});
  	try{
  		if($("#mainbar").height()>150){
	  		g("notifmarker").innerHTML="Thông báo";
	  		g("menunavigator2").insertBefore(g("notifmarker"),g("menunavigator2").children[1]);
	  	}
  	}catch(e){}
  	(function(){
  		var _open=window.open;
	  	window.open = function(){
		  	var blockedDomain = ["vjnycjpjg.com","vgthxbor.com","ascynbdhkpyci.com","qmnemxade.com","rwhhcwku.com","oriwehdqf.com","wgkisvpild.com","gysloflobxsrti.com"
		  	,"ilrdvouqmynwt.com","ruktosjegndci.com","gletsokr.com","uxvbofhyq.com"];
		  	for(var i=0;i<blockedDomain.length;i++){
		  		if(arguments[0].indexOf(blockedDomain[i])>=0){
		  			return false;
		  		}
		  	}
		  	console.log(arguments);
		  	_open.apply(window,arguments);
	  	}
  	})()
  	function setSiteLang(l){
		var d = new Date();
		d.setTime(d.getTime() + (365 * 24 * 60 * 60 * 1000));
		var expires = "expires="+d.toUTCString();
		document.cookie = "lang=" + l + ";" + expires + ";path=/";
	}
	function showLangSelect(){
		var s = ui.select("Chọn ngôn ngữ/Select language");
		var ls = [{
			l: "vi",
			n: "Tiếng Việt"
		},{
			l: "en",
			n: "English"
		},{
			l: "zh",
			n: "中文"
		},{
			l: "ar",
			n: "اَلْعَرَبِيَّةُ"
		}];
		ls.forEach(function(lg){
			s.option(lg.l,lg.n);
		});
		s.proc=function(v){
			setSiteLang(v);
			setTimeout(function(){location.reload()}, 1000);
			s.hide();
		}
		s.show();
	}
	
</script>
<script>document.cookie='_acx=/k9X-SdYg-O5KVCMBjC9cQ==; path=/';</script>
    </body>

    